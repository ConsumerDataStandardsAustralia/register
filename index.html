
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>CDR Register API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/ACCC_Stacked_RGB_Reverse.PNG" class="logo" alt="Accc stacked rgb reverse" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#consumer-data-right" class="toc-h2 toc-link" data-title="Consumer Data Right">Consumer Data Right</a>
                  </li>
                  <li>
                    <a href="#accc-39-s-role" class="toc-h2 toc-link" data-title="ACCC's Role">ACCC's Role</a>
                  </li>
                  <li>
                    <a href="#data-standards-body" class="toc-h2 toc-link" data-title="Data Standards Body">Data Standards Body</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#consultation-outline" class="toc-h1 toc-link" data-title="Consultation outline">Consultation outline</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#consultation-rules-of-engagement" class="toc-h2 toc-link" data-title="Consultation rules of engagement">Consultation rules of engagement</a>
                  </li>
                  <li>
                    <a href="#feedback-sought" class="toc-h2 toc-link" data-title="Feedback sought">Feedback sought</a>
                  </li>
                  <li>
                    <a href="#further-consultation" class="toc-h2 toc-link" data-title="Further consultation">Further consultation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#consumer-data-right-register" class="toc-h1 toc-link" data-title="Consumer Data Right Register">Consumer Data Right Register</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ecosystem-entities" class="toc-h2 toc-link" data-title="Ecosystem Entities">Ecosystem Entities</a>
                  </li>
                  <li>
                    <a href="#ecosystem-component-diagram" class="toc-h2 toc-link" data-title="Ecosystem Component Diagram">Ecosystem Component Diagram</a>
                  </li>
                  <li>
                    <a href="#data-holder-2" class="toc-h2 toc-link" data-title="Data Holder">Data Holder</a>
                  </li>
                  <li>
                    <a href="#accredited-data-recipient-2" class="toc-h2 toc-link" data-title="Accredited Data Recipient">Accredited Data Recipient</a>
                  </li>
                  <li>
                    <a href="#register" class="toc-h2 toc-link" data-title="Register">Register</a>
                  </li>
                  <li>
                    <a href="#certificate-authority" class="toc-h2 toc-link" data-title="Certificate Authority">Certificate Authority</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#client-registration" class="toc-h1 toc-link" data-title="Client Registration">Client Registration</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#dynamic-client-registration" class="toc-h2 toc-link" data-title="Dynamic Client Registration">Dynamic Client Registration</a>
                  </li>
                  <li>
                    <a href="#registration-request-using-jwt" class="toc-h2 toc-link" data-title="Registration Request using JWT">Registration Request using JWT</a>
                  </li>
                  <li>
                    <a href="#data-holder-authorisation-server-requirements" class="toc-h2 toc-link" data-title="Data Holder Authorisation Server Requirements">Data Holder Authorisation Server Requirements</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#participant-statuses" class="toc-h1 toc-link" data-title="Participant Statuses">Participant Statuses</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#adr-and-software-product-statuses" class="toc-h2 toc-link" data-title="ADR and Software Product Statuses">ADR and Software Product Statuses</a>
                  </li>
                  <li>
                    <a href="#software-product-status-changes" class="toc-h2 toc-link" data-title="Software Product Status Changes">Software Product Status Changes</a>
                  </li>
                  <li>
                    <a href="#data-holder-status-change" class="toc-h2 toc-link" data-title="Data Holder Status Change">Data Holder Status Change</a>
                  </li>
                  <li>
                    <a href="#cache-refresh-metadata-request" class="toc-h2 toc-link" data-title="Cache Refresh Metadata Request">Cache Refresh Metadata Request</a>
                  </li>
                  <li>
                    <a href="#incident-management" class="toc-h2 toc-link" data-title="Incident Management">Incident Management</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#security-profile" class="toc-h1 toc-link" data-title="Security Profile">Security Profile</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#client-authentication" class="toc-h2 toc-link" data-title="Client Authentication">Client Authentication</a>
                  </li>
                  <li>
                    <a href="#transaction-security" class="toc-h2 toc-link" data-title="Transaction Security">Transaction Security</a>
                  </li>
                  <li>
                    <a href="#endpoints" class="toc-h2 toc-link" data-title="Endpoints">Endpoints</a>
                  </li>
                  <li>
                    <a href="#certificate-management" class="toc-h2 toc-link" data-title="Certificate Management">Certificate Management</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#availability" class="toc-h1 toc-link" data-title="Availability">Availability</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#cdr-register-unavailable" class="toc-h2 toc-link" data-title="CDR Register Unavailable">CDR Register Unavailable</a>
                  </li>
                  <li>
                    <a href="#certificate-authority-unavailable" class="toc-h2 toc-link" data-title="Certificate Authority Unavailable">Certificate Authority Unavailable</a>
                  </li>
                  <li>
                    <a href="#accredited-data-recipient-unavailable" class="toc-h2 toc-link" data-title="Accredited Data Recipient Unavailable">Accredited Data Recipient Unavailable</a>
                  </li>
                  <li>
                    <a href="#data-holder-unavailable" class="toc-h2 toc-link" data-title="Data Holder Unavailable">Data Holder Unavailable</a>
                  </li>
                  <li>
                    <a href="#availability-questions" class="toc-h2 toc-link" data-title="Availability Questions">Availability Questions</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#versioning" class="toc-h1 toc-link" data-title="Versioning">Versioning</a>
          </li>
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/cdr-register/register'>CDR Register on Github</a></li>
            <li><a href='https://consumerdatastandards.org.au'>Consumer Data Standards</a></li>
            <li><a href='includes/swagger/swagger.json'>Swagger (JSON)</a></li>
            <li><a href='includes/swagger/swagger.yaml'>Swagger (YAML)</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1><h2 id='consumer-data-right'>Consumer Data Right</h2>
<p>The Australian Government is introducing a Consumer Data Right (CDR) to give consumers more control over their data.<br>
The CDR will be rolled out sector-by-sector across the economy, starting with the banking sector.<br>
The Government has announced that the energy and telecommunications sectors will follow banking.</p>

<p>Further information on the CDR is available on the Treasury website:<br>
<a href="https://treasury.gov.au/consumer-data-right">https://treasury.gov.au/consumer-data-right</a></p>
<h2 id='accc-39-s-role'>ACCC&#39;s Role</h2>
<p>The ACCC will be lead regulator for the CDR regime, and will have roles and functions that include:</p>

<ul>
<li>drafting rules to implement and govern the CDR in each sector; </li>
<li>accrediting entities to receive data; </li>
<li>managing an online register of accredited data recipients and data holders; </li>
<li>providing education and guidance on the CDR;</li>
<li>recommending to government future sectors to be brought within the CDR; and</li>
<li>compliance and enforcement activities.<br></li>
</ul>

<p>Further information on the ACCC’s role in the CDR is available on the ACCC’s website:<br>
<a href="https://www.accc.gov.au/focus-areas/consumer-data-right-cdr-0">https://www.accc.gov.au/focus-areas/consumer-data-right-cdr-0</a></p>
<h2 id='data-standards-body'>Data Standards Body</h2>
<p>A Data Standards Body (DSB) has been established to develop technical standards to implement the CDR. The work of the DSB is being delivered by a team within Data61, overseen by interim DSB Chair Mr Andrew Stevens, and with industry and consumer advice provided by an Advisory Committee.  </p>

<p>Further information on the DSB is available on its website:<br>
<a href="https://consumerdatastandards.org.au">https://consumerdatastandards.org.au</a></p>
<h1 id='consultation-outline'>Consultation outline</h1>
<p>The ACCC is using this website as a tool to consult on aspects of the design and implementation of the register of CDR participants (the CDR Register). The ACCC is seeking comments from interested stakeholders. </p>
<h2 id='consultation-rules-of-engagement'>Consultation rules of engagement</h2>
<p>The ACCC intends to conduct public consultation on the CDR Register. Questions or comments that participants might ask us via email or private message are likely to be questions or comments other participants have as well. Our answers will be of interest to everyone. There are likely to be experiences and lessons everybody working in this ecosystem can learn from. Having these conversations transparently helps reduce duplication, resolve issues faster and keep everyone up to date with the conversation.</p>

<p>We ask that all contributors to the CDR Register GitHub comply with the <a href="https://help.github.com/en/articles/github-community-forum-code-of-conduct">GitHub Community Forum Code of Conduct</a>.  </p>

<p>In addition, it would be appreciated if the following rules are adhered to when commenting or contributing:</p>

<ul>
<li>  For transparency, if you work at or are associated with an organisation with an interest in the Consumer Data Right, please indicate this in your response.</li>
<li>  Please ensure you are aware of and compliant with any social media guidelines or internal processes for response set by your organisation before providing feedback.</li>
</ul>

<p>The ACCC will be actively monitoring and reviewing any comments/responses which are provided, however will not be responding to individual comments. 
Depending on the number of responses/comments we get, we will assess what the most efficient and effective way to engage with the community is, noting that we want this to be a collaborative effort.</p>

<p><a href="https://github.com/cdr-register/register">CDR Register on GitHub</a></p>
<h2 id='feedback-sought'>Feedback sought</h2>
<p>To guide responses and comments, we are seeking input which will assist us in ensuring that the Register designs meets the needs of the overarching CDR ecosystem. The focus should be on validating the designs, and providing any necessary context and reasoning. </p>
<h2 id='further-consultation'>Further consultation</h2>
<p>The ACCC is currently designing and building the CDR Register, and will engage further with interested stakeholders as part of this process. </p>

<p>The ACCC expects to soon publish for consultation concepts relating to the CDR Register including:</p>

<ul>
<li>  Business and technical design principles</li>
<li>  Versioning</li>
</ul>
<h1 id='consumer-data-right-register'>Consumer Data Right Register</h1>
<p>The ACCC will perform the role of the CDR Registrar. The CDR Registrar will have the function of maintaining the Register of Accredited Persons (the Register) who have been granted accreditation by the ACCC in its capacity as Data Recipient Accreditor. Accredited persons become accredited data recipients upon receipt of CDR data.</p>

<p>The Register will also include information about data holders. Information about accredited data recipients and data holders recorded in the Register will be made available to the public in accordance with the CDR rules. Additional information held in the Register will be available to accredited data recipients and data holders.</p>
<h2 id='ecosystem-entities'>Ecosystem Entities</h2><h3 id='cdr-consumer'>CDR consumer</h3>
<p>A consumer, as defined in the CDR rules, who is able to a make a request for disclosure of CDR data to themselves or to an accredited data recipient.</p>
<h3 id='data-holder'>Data Holder</h3>
<p>A person who holds designated CDR data and is required by the CDR rules to disclose product and consumer data.</p>
<h3 id='accredited-data-recipient'>Accredited Data Recipient</h3>
<p>A person that has been granted accreditation by the ACCC and is able to collect, and receives, CDR data about a CDR consumer from a data holder with the consent of the consumer.</p>
<h2 id='ecosystem-component-diagram'>Ecosystem Component Diagram</h2>
<p>The following is a high level overview of the CDR ecosystem outlining the components and API endpoints each participant within the ecosystem will be expected to implement.
Note that ADRs are expected to have one or more Software Applications consuming CDR data.</p>

<p><img src="images/ComponentDiagram.png" alt="Componentdiagram" /></p>
<h2 id='data-holder-2'>Data Holder</h2>
<table><thead>
<tr>
<th>Component</th>
<th>Responsibility</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Consent Authorisation Manager</strong></td>
<td>Provides authorisation functionality to the consumer including consent withdrawal propagation to the relevant Accredited Data Recipients</td>
</tr>
<tr>
<td><strong>Secrets Manager</strong></td>
<td>Provides key management for issuance/rotation of JWKs &amp; certificates. Storing of authorisations</td>
</tr>
<tr>
<td><strong>Identity Provider</strong></td>
<td>Provides identity services to the Data Holder’s platform for identifying Accredited Data Recipients and the CDR Register</td>
</tr>
<tr>
<td><strong>Standards Platform</strong></td>
<td>Exposes banking, consumer and product data to Accredited Data Recipients as per the Consumer Data Standards: <br> <a href="https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-banking-apis">https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-banking-apis</a> <br> <a href="https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-common-apis">https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-common-apis</a></td>
</tr>
<tr>
<td><strong>MetaData Cache</strong></td>
<td>Cache of discovered Data Holders within the CDR ecosystem. Caching rules and logic are described at: <br> <a href="#cache-refresh-metadata-request">Cache Refresh Metadata Request</a></td>
</tr>
<tr>
<td><strong>MetaData Update &amp; Reporting</strong></td>
<td>Provides functionality to facilitate Metadata Update requests from the ACCC as per the Consumer Data Standards <br> <a href="https://consumerdatastandardsaustralia.github.io/standards/#metadata-update">https://consumerdatastandardsaustralia.github.io/standards/#metadata-update</a></td>
</tr>
<tr>
<td><strong>Authorisation Dashboard</strong></td>
<td>The Dashboard provided to the consumer to view their current sharing authorisations with the Data Holder. The dashboard also provides the functionality to explicitly withdraw these authorisations with this Data Holder</td>
</tr>
</tbody></table>
<h2 id='accredited-data-recipient-2'>Accredited Data Recipient</h2>
<table><thead>
<tr>
<th>Component</th>
<th>Responsibility</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Software Application(s)</strong></td>
<td>One or more consumer facing applications provided by the Accredited Data Recipient</td>
</tr>
<tr>
<td><strong>Application Platform</strong></td>
<td>Accredited Data Recipient’s application which consumes consumer and product data from Data Holders as per the Consumer Data Standards: <br> <a href="https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-banking-apis">https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-banking-apis</a> <br> <a href="https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-common-apis">https://consumerdatastandardsaustralia.github.io/standards/#consumer-data-standards-common-apis</a></td>
</tr>
<tr>
<td><strong>Consent Manager</strong></td>
<td>Provides consent functionality to the consumer including consent withdrawal propagation to the relevant Data Holder</td>
</tr>
<tr>
<td><strong>Secrets Manager</strong></td>
<td>Provides key management for issuance/rotation of JWKs &amp; certificates. Storing of consents</td>
</tr>
<tr>
<td><strong>Identity Provider</strong></td>
<td>Provides identity services to the Accredited Data Recipient’s platform for identifying Data Holders and the CDR Register</td>
</tr>
<tr>
<td><strong>MetaData Cache</strong></td>
<td>Cache of discovered Data Holders within the CDR ecosystem. Caching rules and logic are described at: <br> <a href="#cache-refresh-metadata-request">Cache Refresh Metadata Request</a></td>
</tr>
<tr>
<td><strong>MetaData Update</strong></td>
<td>Provides functionality to facilitate Metadata Update requests from the ACCC as per the Consumer Data Standards <br> <a href="https://consumerdatastandardsaustralia.github.io/standards/#metadata-update">https://consumerdatastandardsaustralia.github.io/standards/#metadata-update</a></td>
</tr>
<tr>
<td><strong>Consent Dashboard</strong></td>
<td>The Dashboard provided to the consumer to view the consents given to this Accredited Data Recipient to collect and use CDR data. The Dashboard also provides the functionality to explicitly withdraw these consents with this Accredited Data Recipient</td>
</tr>
</tbody></table>
<h2 id='register'>Register</h2>
<p>Identifies when participants within the ecosystem change significantly and notifies relevant Data Holders and Accredited Data Recipients of those changes via the MetaData Update call on the Admin API.
Details on this process is outlined at:
<a href="#cache-refresh-metadata-request">Cache Refresh Metadata Request</a></p>

<p>The Register also exposes the Discovery API, allowing Data Holders and Accredited Data Recipients to discover the participants within the CDR ecosystem.
Discovery API is defined at:
<a href="#consumer-data-right-cdr-register-discovery-api">Register Discovery API</a></p>
<h2 id='certificate-authority'>Certificate Authority</h2>
<p>The CDR Register will be using DigiCert as the ACCC endorsed Certificate Authority. Further details on certificate management can be found at:
<a href="#certificate-management">Certificate Management</a></p>
<h1 id='client-registration'>Client Registration</h1>
<aside class="info">
The Register Client Registration design is currently in draft and undergoing collaborative review </br>
<a href="https://github.com/cdr-register/register/issues/24">https://github.com/cdr-register/register/issues/24</a>
</aside>
<h2 id='dynamic-client-registration'>Dynamic Client Registration</h2>
<p>Software Products within the Consumer Data Right will dynamically register with one or more Data Holders, to obtain client identifiers used to retrieve consumer data on behalf of a consumer.</p>

<p>The CDR Registration model is derived from the Open Banking UK model with design input from the ABA <a href="https://github.com/cdr-register/register/files/3577911/ABA_RESPONSE_DYvS_SA_05092019_Appendix.pdf">https://github.com/cdr-register/register/files/3577911/ABA_RESPONSE_DYvS_SA_05092019_Appendix.pdf</a></p>
<h3 id='overview'>Overview</h3>
<p><strong>Pre-Requisite:</strong> Data Recipient is accredited and the associated Software Product has been configured within the CDR Register
[Collaboration diagram]</p>
<h3 id='software-statement-assertion-ssa-design'>Software Statement Assertion (SSA) Design</h3>
<p>A Software Statement is defined in RFC7591 as:
A digitally signed JSON Web Token (JWT) [RFC7519] that asserts metadata values about the client software.</p>

<p>Within the Consumer Data Right, the CDR Register will issue Software Statements for Accredited Data Recipient Software Products</p>

<p>The trust relationship the authorization server has with the issuer of the software statement
is to be used as an input to the evaluation of whether the registration request is
accepted.</p>

<p>A software statement is presented by Accredited Data Recipient’s software to Data Holder’s authorisation server as part of a client registration request.</p>

<p>An SSA will be issued for each Software Product and is retrievable using the following methods:</p>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Phase 1</strong></td>
<td>Download from the RAAP Portal, accessible by an approved technical representative for the </br>Accredited Data Recipient</td>
</tr>
<tr>
<td><strong>Phase 2</strong></td>
<td>Retrievable via an API exposed on the CDR Register, to be built in a future iteration</td>
</tr>
</tbody></table>
<h3 id='namespacing'>Namespacing</h3>
<p>The design will conform to RFC7591 and not use the software namespace as the convention used in the Open Banking UK Dynamic Registration standard.</p>
<h3 id='digital-signing-algorithm'>Digital Signing Algorithm</h3>
<p>Conforming to FAPI-RW, SSAs will be signed on the CDR Register using <strong>ES256</strong></p>
<h3 id='ssa-lifetime'>SSA Lifetime</h3>
<p>Downloaded SSAs will have a lifetime of <strong>30 minutes</strong>
SSA’s obtained via an API will have a lifetime of <strong>2 minutes</strong></p>
<h3 id='ssa-definition'>SSA Definition</h3>
<table><thead>
<tr>
<th>Client Metadata</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>iss</strong></td>
<td>Required</td>
<td>MUST contain an &quot;iss&quot; (issuer) claim denoting the party attesting to the claims in the software statement</br><strong>value: &quot;cdr-register&quot;</strong></td>
</tr>
<tr>
<td><strong>iat</strong></td>
<td>Required</td>
<td>“Issued at time” claim</td>
</tr>
<tr>
<td><strong>exp</strong></td>
<td>Required</td>
<td>&quot;Expiration Time&quot; claim</td>
</tr>
<tr>
<td><strong>jti</strong></td>
<td>Required</td>
<td>&quot;JWT ID&quot; claim</td>
</tr>
<tr>
<td><strong>org_id</strong></td>
<td>Required</td>
<td>A unique identifier string assigned by the CDR Register that identifies CDR Participant (e.g. ADR)</td>
</tr>
<tr>
<td><strong>org_name</strong></td>
<td>Required</td>
<td>Human-readable string name of the Accredited Data Recipient to be presented to the end user during authorization.</td>
</tr>
<tr>
<td><strong>org_contacts</strong></td>
<td>Required</td>
<td>JSON object containing the contact details of the Primary Business Contact and Primary Technical Contact <em></br>[{</br>name: firstname + lastname, </br>email: email address, </br>phone: telephone or mobilephone, </br>type: Primary Business Contact </br>}, … ]</em></td>
</tr>
<tr>
<td><strong>iss_tos</strong></td>
<td>Optional</td>
<td>URL string that points to a humanreadable terms of service document for the Consumer Data Right Regime</td>
</tr>
<tr>
<td><strong>client_name</strong></td>
<td>Required</td>
<td>Human-readable string name of the software product to be presented to the end-user during authorization</td>
</tr>
<tr>
<td><strong>client_description</strong></td>
<td>Required</td>
<td>Human-readable string name of the software product description to be presented to the end user during authorization</td>
</tr>
<tr>
<td><strong>redirect_uris</strong></td>
<td>Required</td>
<td>Array of redirection URI strings for use in redirect-based flows</td>
</tr>
<tr>
<td><strong>logo_uri</strong></td>
<td>Required</td>
<td>URL string that references a logo for the client. If present, the server SHOULD display this image to the end-user during approval</td>
</tr>
<tr>
<td><strong>scope</strong></td>
<td>Required</td>
<td>String containing a space-separated list of scope values that the client can use when requesting access tokens.</td>
</tr>
<tr>
<td><strong>tos_uri</strong></td>
<td>Optional</td>
<td>URL string that points to a humanreadable terms of service document for the Software Product</td>
</tr>
<tr>
<td><strong>policy_uri</strong></td>
<td>Required</td>
<td>URL string that points to a humanreadable policy document for the Software Product</td>
</tr>
<tr>
<td><strong>jwks_endpoint</strong></td>
<td>Required</td>
<td>URL string referencing the client&#39;s JSON Web Key (JWK) Set [RFC7517] document, which contains the client&#39;s public keys</td>
</tr>
<tr>
<td><strong>software_id</strong></td>
<td>Required</td>
<td>String representing a unique identifier assigned by the ACCC Register and used by registration endpoints to identify the software product to be dynamically registered. </br></br>The &quot;software_id&quot; will remain the same across multiple updates or versions of the same piece of software.</td>
</tr>
<tr>
<td><strong>software_version</strong></td>
<td>Required</td>
<td>Internal version of the Software product registering</td>
</tr>
<tr>
<td><strong>software_roles</strong></td>
<td>Required</td>
<td>String containing a role of the software in thwe CDR Regime. Initially the only value used with be <strong>“Data Recipient”</strong></td>
</tr>
<tr>
<td><strong>revocation_uri</strong></td>
<td>Required</td>
<td>URI string that references the location of the Software Product consent revocation endpoint as per <a href="https://consumerdatastandardsaustralia.github.io/standards/#end-points">https://consumerdatastandardsaustralia.github.io/standards/#end-points</a></td>
</tr>
</tbody></table>
<h3 id='logos'>Logos</h3>
<p>Logos will be incorporated within the SSA to ensure there is consistency between the logos published on the Public Register and those passed to Data Holders as part of Registration</p>
<h3 id='cdr-register-ssa-signing'>CDR Register SSA Signing</h3>
<p>SSAs will be signed by the Register. Register public keys will be exposed on a dedicated JWKS URI endpoint at: [TBD]</p>
<h3 id='software-product-jwks'>Software Product JWKS</h3>
<p>JWKS will be decentralised and the URI described in the OIDC Discovery endpoint</p>
<h2 id='registration-request-using-jwt'>Registration Request using JWT</h2>
<table><thead>
<tr>
<th>Claim</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>iss</strong></td>
<td>Required</td>
<td>Contains the identifier for the ADR Software Product as defined in the ACCC Register</td>
</tr>
<tr>
<td><strong>iat</strong></td>
<td>Required</td>
<td>“Issued at time” claim</td>
</tr>
<tr>
<td><strong>exp</strong></td>
<td>Required</td>
<td>&quot;Expiration Time&quot; claim</td>
</tr>
<tr>
<td><strong>jti</strong></td>
<td>Required</td>
<td>&quot;JWT ID&quot; claim</td>
</tr>
<tr>
<td><strong>aud</strong></td>
<td>Required</td>
<td>Data Holder auth server URI</td>
</tr>
<tr>
<td><strong>software_statement</strong></td>
<td>Required</td>
<td>Software statement assertion issued by the CDR Register</td>
</tr>
<tr>
<td><strong>token_endpoint_auth_signing_alg</strong></td>
<td>Required</td>
<td>The algorithm used for signing the JWT</td>
</tr>
<tr>
<td><strong>token_endpoint_auth_signing_method</strong></td>
<td>Required</td>
<td><strong>value:</strong> private_key_jwt</td>
</tr>
<tr>
<td><strong>grant_types</strong></td>
<td>Required</td>
<td><strong>value:</strong> [authorization_code, refresh_token, urn:ietf:params:oauth:grant-type:jwtbearer]</td>
</tr>
<tr>
<td><strong>response_types</strong></td>
<td>Required</td>
<td><strong>value:</strong> [code id_token]</td>
</tr>
<tr>
<td><strong>application_type</strong></td>
<td>Required</td>
<td><strong>value:</strong>[OIDC-R]</td>
</tr>
<tr>
<td><strong>id_token_signed_response_alg</strong></td>
<td>Optional</td>
<td>Algorithm which the ADR expects the id_token to be signed with, if an id_token is returned</br></br>Supported values as constrained by FAPI-RW</td>
</tr>
<tr>
<td><strong>request_object_signing_alg</strong></td>
<td>Optional</td>
<td>Algorithm which the ADR expects to sign the request object if a request object will be part of the authorization request sent to the Data Holder</br></br>Supported values as constrained by FAPI-RW</td>
</tr>
</tbody></table>
<h2 id='data-holder-authorisation-server-requirements'>Data Holder Authorisation Server Requirements</h2><h3 id='registration-api-endpoints'>Registration API Endpoints</h3>
<p>Data Holder Authorisation Servers must expose the following Dynamic Client Registration API endpoints</p>

<table><thead>
<tr>
<th>HTTP Verb</th>
<th>Authorisation Server Support</th>
<th>Grant Type</th>
</tr>
</thead><tbody>
<tr>
<td><strong>POST</strong></td>
<td>Required</td>
<td>N/A</td>
</tr>
<tr>
<td><strong>PUT /{clientID}</strong></td>
<td>Required</td>
<td>Client Credentials</td>
</tr>
<tr>
<td><strong>GET /{clientID}</strong></td>
<td>Required</td>
<td>Client Credentials</td>
</tr>
<tr>
<td><strong>DELETE /{clientID}</strong></td>
<td>Required</td>
<td>Client Credentials</td>
</tr>
</tbody></table>

<p>Client Credentials grant must conform to the CDR Register security profile as outlined at:
<a href="https://cdr-register.github.io/register/#client-authentication">https://cdr-register.github.io/register/#client-authentication</a></p>
<h1 id='participant-statuses'>Participant Statuses</h1><h2 id='adr-and-software-product-statuses'>ADR and Software Product Statuses</h2>
<p>The accreditation status of Accredited Data Recipients, and the status of their associated software products, may traverse through multiple states in the CDR as a result of decisions by the ACCC, in its capacity as Data Recipient Accreditor, or where an Accredited Data Recipient surrenders accreditation.</p>

<p>Data Holders will have the responsibility to ensure that CDR data relating to consumers is disclosed to Accredited Data Recipients and to cease sharing data where the accreditation of a data recipient is</p>

<ol>
<li> Suspended or revoked by the ACCC</li>
<li> Surrendered by the Data Recipient</li>
</ol>

<p>The Register will notify all Data Holders of the above changes in Accredited Data Recipient status as per the ACCC’s decisions.</p>

<p><img class=medium-image src="images/AdrProductStateMachine.png" ></img></p>

<table><thead>
<tr>
<th><strong>Accredited Data Recipient &amp; Software Product Statuses</strong></th>
<th><strong>Data Holder’s Responsibility</strong></th>
</tr>
</thead><tbody>
<tr>
<td>Active</td>
<td>Disclose CDR data in response to valid requests in accordance with the CDR rules and standards </br> Facilitate consent authorisation requests</td>
</tr>
<tr>
<td>Suspended</td>
<td>Cease disclosure of CDR data </br> Cease facilitating consent authorisation requests</td>
</tr>
<tr>
<td>Revoked</td>
<td>Cease disclosure of CDR data </br> Cease facilitating consent authorisation requests</td>
</tr>
<tr>
<td>Surrendered</td>
<td>Cease disclosure of CDR data </br> Cease facilitating consent authorisation requests</td>
</tr>
</tbody></table>
<h3 id='checking-validity-of-data-recipient-and-associated-software-product'>Checking Validity of Data Recipient and associated Software Product</h3>
<p><img src="images/DataRecipientValidityCheck.png" ></img></p>
<h3 id='adr-active'>ADR Active</h3>
<p>Once a Data Recipient has been granted accreditation by the ACCC (as Data Recipient Accreditor) and has completed the necessary steps to be added to the Register (as specified in the rules), the following actions and responsibilities are:</p>

<ol>
<li> The Registrar will issue the Accredited Data Recipient all <a href="#certificate-management">required certificates</a></br></li>
<li> The Accredited Data Recipient&#39;s status will be set to <strong>&#39;active&#39;</strong></br></li>
<li> Data Holders will retrieve the new ADR record as part of their regular metadata cache refresh</br></li>
<li> All Data Holders will be required to disclose data, in accordance with the CDR rules, with this new Accredited Data Recipient</br></li>
</ol>
<h3 id='adr-suspended'>ADR Suspended</h3>
<p>Where the ACCC (as Data Recipient Accreditor) has made a decision to suspend the accreditation of an Accredited Data Recipient, and has notified the decision to the Registrar the following actions and responsibilities will arise:</p>

<ol>
<li> The Registrar will revoke the Accredited Data Recipient&#39;s <a href="#certificate-management">resource client certificates</a> for all associated software products</li>
<li> The Registrar will update the CDR Register to change the Accredited Data Recipient&#39;s status (and status of all associated software products) to <strong>&#39;suspended&#39;</strong></li>
<li> The CDR Register will initiate the metadata cache update process with all Data Holders within the CDR. Data Holders will be required to refresh their cache within the specified timeframe</li>
<li> All Data Holders will prevent disclosure of CDR data  with the Accredited Data Recipient while it is in a suspended state</li>
</ol>
<h3 id='adr-reactivated'>ADR Reactivated</h3>
<p>An Accredited Data Recipient can move from the suspended status back to the active status where a suspension expires or is revoked by the ACCC (as Data Recipient Accreditor). Once this has occurred, the following actions and responsibilities are:</p>

<ol>
<li> The Registrar will reissue the Accredited Data Recipient&#39;s <a href="#certificate-management">resource client certificates</a> for all associated software products</li>
<li> The Registrar will update the CDR Register to change the Accredited Data Recipient&#39;s status (and status of all associated software products) to <strong>&#39;active&#39;</strong></li>
<li> The CDR Register will initiate the metadata cache update process with all Data Holders within the CDR. Data Holders will be required to refresh their cache within the specified timeframe</li>
<li> All Data Holders will disclose CDR data as required by the CDR rules with this Accredited Data Recipient</li>
</ol>
<h3 id='adr-revoked'>ADR Revoked</h3>
<p>Where the ACCC (as Data Recipient Accreditor) has made a decision to revoke the accreditation of an Accredited Data Recipient, and has notified the decision to the Registrar, the following actions and responsibilities will arise:</p>

<ol>
<li> The Registrar will revoke Accredited Data Recipient&#39;s <a href="#certificate-management">resource client certificates</a> for all associated software products</li>
<li> The Registrar will update the CDR Register to change the Accredited Data Recipient&#39;s status (and status of all associated software products) to <strong>&#39;revoked&#39;</strong></li>
<li> The CDR Register will initiate the cache update process with all Data Holders within the CDR. Data Holders will be required to refresh their cache within the specified timeframe</li>
<li> All Data Holders prevent disclosure of CDR data with this Accredited Data Recipient</li>
</ol>
<h3 id='adr-surrendered'>ADR Surrendered</h3>
<p>Where an Accredited Data Recipient has surrendered their accreditation, and the Data Recipient Accreditor has notified the Registrar of the surrender, the following actions and responsibilities will arise:</p>

<ol>
<li> The Registrar will revoke Accredited Data Recipient&#39;s <a href="#certificate-management">resource client certificates</a> for all associated software products</li>
<li> The Registrar will update the CDR Register to change the Accredited Data Recipient&#39;s status (and status of all associated software products) to <strong>&#39;surrendered&#39;</strong></li>
<li> The CDR Register will initiate the cache update process with all Data Holders within the CDR</li>
<li> All Data Holders will prevent disclosure of CDR data with this Accredited Data Recipient</li>
</ol>
<h2 id='software-product-status-changes'>Software Product Status Changes</h2><h3 id='new-adr-software-product-active'>New ADR Software Product Active</h3>
<p>Once an Accredited Data Recipient has completed the necessary steps to add a new software product to the Register, the following actions and responsibilities are:</p>

<ol>
<li> The Registrar will issue the Software Product’s <a href="#certificate-management">resource client certificate</a></li>
<li> The Software Product status will be set to <strong>&#39;active&#39;</strong></li>
<li> Data Holders will retrieve the new ADR record as part of their regular metadata cache refresh</li>
<li> All Data Holders will be required to disclose data, in accordance with the CDR rules, with this new Accredited Data Recipient Software Product</li>
</ol>
<h3 id='adr-software-product-suspended'>ADR Software Product Suspended</h3>
<p>Where the ACCC (as Data Recipient Accreditor) has made a decision to suspend the status of an Accredited Data Recipient’s Software Product, and has notified the decision to the Registrar the following actions and responsibilities will arise:</p>

<ol>
<li> The Registrar will revoke the Software Product’s <a href="#certificate-management">resource client certificate</a></li>
<li> The Registrar will update the CDR Register to change the Software Product’s status to <strong>&#39;suspended&#39;</strong></li>
<li> The CDR Register will initiate the metadata cache update process with all Data Holders within the CDR. Data Holders will be required to refresh their cache within the specified timeframe</li>
<li> All Data Holders will prevent disclosure of CDR data with the Accredited Data Recipient’s Software Product while it is in a suspended state</li>
</ol>
<h3 id='adr-software-product-reactivated'>ADR Software Product Reactivated</h3>
<p>A Software Product can move from the suspended status back to the active status where a suspension expires or is revoked by the ACCC (as Data Recipient Accreditor). Once this has occurred, the following actions and responsibilities are:</p>

<ol>
<li> The Registrar will reissue the Software Product’s <a href="#certificate-management">resource client certificate</a></li>
<li> The Registrar will update the CDR Register to change the Software Product’s status to <strong>&#39;active&#39;</strong></li>
<li> The CDR Register will initiate the metadata cache update process with all Data Holders within the CDR. Data Holders will be required to refresh their cache within the specified timeframe</li>
<li> All Data Holders will disclose CDR data as required by the CDR rules with this Accredited Data Recipient’s Software Product</li>
</ol>
<h3 id='adr-software-product-revoked'>ADR Software Product Revoked</h3>
<p>Where the ACCC (as Data Recipient Accreditor) has made a decision to revoke the status of an Accredited Data Recipient’s Software Product, and has notified the decision to the Registrar, the following actions and responsibilities will arise:</p>

<ol>
<li> The Registrar will revoke the Software Product’s <a href="#certificate-management">resource client certificate</a></li>
<li> The Registrar will update the CDR Register to change the Software Product’s status to <strong>&#39;revoked&#39;</strong></li>
<li> The CDR Register will initiate the cache update process with all Data Holders within the CDR. Data Holders will be required to refresh their cache within the specified timeframe</li>
<li> All Data Holders prevent disclosure of CDR data with this Accredited Data Recipient’s Software Product</li>
</ol>
<h3 id='adr-software-product-surrendered'>ADR Software Product Surrendered</h3>
<p>Where an Accredited Data Recipient decommissions a Software Product, and the Data Recipient Accreditor has notified the Registrar of the decommissioning, the following actions and responsibilities will arise:</p>

<ol>
<li> The Registrar will revoke the Software Product’s <a href="#certificate-management">resource client certificate</a></li>
<li> The Registrar will update the CDR Register to change the Software Product’s status to <strong>&#39;surrendered&#39;</strong></li>
<li> The CDR Register will initiate the cache update process with all Data Holders within the CDR</li>
<li> All Data Holders will prevent disclosure of CDR data with this Accredited Data Recipient’s Software Product</li>
</ol>
<h2 id='data-holder-status-change'>Data Holder Status Change</h2>
<p>Rules regarding Data Holder off-boarding and revocation have not yet been provided. Updates to this design will be added once the rules have been defined.</p>
<h3 id='metadata-cache-management-metrics'>Metadata Cache Management Metrics</h3>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Maximum Cache update period</strong></td>
<td>6 hours</td>
</tr>
<tr>
<td><strong>Maximum Time between Cache Refresh Metadata Request <br> and call to Discovery API</strong></td>
<td>5 minutes</td>
</tr>
</tbody></table>
<h2 id='cache-refresh-metadata-request'>Cache Refresh Metadata Request</h2>
<p>Data Holders and Accredited Data Recipients will be required to implement the Admin endpoint as per CDS standard: <a href="https://consumerdatastandardsaustralia.github.io/standards/#admin-apis">https://consumerdatastandardsaustralia.github.io/standards/#admin-apis</a></p>

<p>This endpoint exposes functionality for the ACCC to request participants to refresh their caches.
Cache refreshes may be requested in the following scenarios:</p>

<ol>
<li> A new Data Holder becomes active</li>
<li> A new Accredited Data Recipient becomes active</li>
<li> A Data Holder has been surrendered from the CDR</li>
<li> An Accredited Data Recipient has been suspended, revoked, reactivated or surrendered from the CDR Register</li>
<li> A Data Holder&#39;s or Accredited Data Recipient&#39;s JWK has been removed due to compromise</li>
<li> Data Holder&#39;s or Accredited Data Recipient&#39;s endpoints have changed</li>
</ol>
<h3 id='data-holder-discovery-of-accredited-data-recipients'>Data Holder Discovery of Accredited Data Recipients</h3>
<p><img src="images/DataHolderDiscovery.png" alt="Dataholderdiscovery" /></p>
<h3 id='accredited-data-recipient-discovery-of-data-holders'>Accredited Data Recipient Discovery of Data Holders</h3>
<p><img src="images/DataRecipientDiscovery.png" alt="Datarecipientdiscovery" /></p>
<h2 id='incident-management'>Incident Management</h2>
<p>Currently under the draft CDR rules, Data Holders within the CDR ecosystem will be able to refuse to disclose CDR data  in response to valid requests from Accredited Data Recipients:</p>

<p><strong>(a)</strong> where the Data Holder has reasonable grounds to believe that disclosure would create a real risk of harm or abuse to an individual or adversely impact the security, integrity or stability of the Register or the IT systems of the Data Holder used to receive and response to CDR data requests. Reliance on this exemption is to be notified to the ACCC within 24 hours; or</p>

<p><strong>(b)</strong> in the circumstances set out in the standards</p>
<h1 id='security-profile'>Security Profile</h1><h2 id='overview'>Overview</h2>
<p>The security profile of the CDR Register follows the conventions defined by the <a href="https://consumerdatastandardsaustralia.github.io/standards/#security-profile">Consumer Data Standards Security Profile</a></p>

<ol>
<li><p>The CDR Register Discovery API will use <code>Mutual Authentication TLS</code> <strong>[MTLS]</strong> as the transport security and the OIDC <code>client_credentials</code> grant type authentication. All client and server certificates are generated by the CDR Register to facilitate this transport .</p></li>
<li><p>The Client Authentication method to be used by ADRs or DHs to the CDR Register will use <code>private_key_jwt</code> for procuring the Access Token.</p></li>
</ol>

<p>Please refer to the <a href="https://consumerdatastandardsaustralia.github.io/standards/#security-profile">Consumer Data Standards Security Overview</a> for Symbols and Abbreviated Terms</p>
<h2 id='client-authentication'>Client Authentication</h2>
<p>Using the same client authentication approach as the <a href="https://consumerdatastandardsaustralia.github.io/standards/#client-authentication">Consumer Data Standard</a>, interactions with and by the CDR Register use <code>private_key_jwt</code> Client Authentication method as specified at <a href="https://openid.net/specs/openid-connect-core-1_0.html#ClientAuthentication">section 9</a> of <strong>[OIDC]</strong>.</p>

<ul>
<li><p>Data Holders MUST support the authentication of the CDR Register using the <code>private_key_jwt</code> client authentication method</p></li>
<li><p>Data Recipients MUST support the authentication of the CDR Register using the <code>private_key_jwt</code> client authentication method</p></li>
<li><p>The CDR Register MUST support the authentication of the Data Holders using the <code>private_key_jwt</code> client authentication method</p></li>
<li><p>The CDR Register MUST support the authentication of the Data Recipients using the <code>private_key_jwt</code> client authentication method</p></li>
<li><p>Data Holder and Data Recipient public keys MUST only be obtained from the CDR Register. </br></p></li>
<li><p>CDR Register public keys MUST only be obtained from the exposed endpoint <todo: supply reference></p></li>
</ul>

<p>As per the <a href="https://consumerdatastandardsaustralia.github.io/standards/#client-authentication">Consumer Data Standards</a>, While <strong>[MTLS]</strong> is utilised for transaction security and as a Holder of Key mechanism the PKI Mutual TLS OAuth Client Authentication Method SHALL NOT be supported as the mechanism for client authentication.</p>
<h3 id='private_key_jwt'>private_key_jwt</h3><h3 id='cdr-discovery-access-token-request-using-client-authentication'>CDR Discovery Access Token Request using Client Authentication</h3>
<blockquote>
<p>Non-Normative Examples</p>
</blockquote>
<pre class="highlight plaintext"><code>POST /token HTTP/1.1
Host: www.api.discovery.cdr.gov.au
Content-Type: application/x-www-form-urlencoded

grant_type=client_credentials&amp;
  client_id=12345&amp;
  client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&amp;
  client_assertion=eyJhbGciOiJQUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjEyNDU2In0.ey ...

## Decoded client assertion JWT
{
  "alg": "PS256",
  "typ": "JWT",
  "kid": "12456"
}
{
  "iss": "12345",
  "sub": "12345",
  "exp": 1516239322,
  "aud": "https://www.infosec.cdr.gov.au/token",
  "jti": "37747cd1-c105-4569-9f75-4adf28b73e31"
}
</code></pre>
<ol>
<li>Access Token will be requested as per the Assertion Framework for OAuth2 Client Authentication profile</li>
<li>Data Holder and Data Recipient public keys are retrieved from the CDR Register<br></li>
<li>Refresh tokens will not be provided for grant_type <code>client_credentials</code> </li>
<li> The JWT must contain the following Claim Values :</li>
</ol>

<ul>
<li>  <code>iss</code>: The issuer claim which contains a unique identifier for the entity that issued the JWT</li>
<li>  <code>sub</code>: The principal that is the subject of the JWT for client authentication</li>
<li>  <code>aud</code>: The URL of the end point being invoked</li>
<li>  <code>exp</code>: The expiration claim that limits the time window during which the assertion can be used</li>
<li>  <code>jti</code>: The JWT ID claim that provides a unique identifier for the token</li>
</ul>

<p>When invoking a protected end point, the assertion MUST be sent with the <code>POST</code> method and MUST include the following parameters:</p>

<ul>
<li>  <code>grant_type</code>: This MUST be set to <code>client_credentials</code></li>
<li>  <code>client_id</code>: This MUST be set to the ID of the calling client</li>
<li>  <code>client_assertion_type</code>: This MUST be set to: <code>urn:ietf:params:oauth:client-assertion-type:jwt-bearer</code></li>
<li>  <code>client_assertion</code>: This MUST be set to the digitally signed JWT</li>
</ul>
<h3 id='cdr-register-calling-participant-admin-api-using-client-authentication'>CDR Register Calling Participant Admin API using Client Authentication</h3>
<blockquote>
</blockquote>
<pre class="highlight plaintext"><code>GET /admin/registry/metadata HTTP/1.1
Host: www.admin.dataholder.com.au
Content-Type: application/x-www-form-urlencoded

  client_id=register.cdr.gov.au&amp;
  client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer&amp;
  client_assertion=eyJhbGciOiJQUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6IjEyNDU2In0.ey ...

## Decoded client assertion JWT
{
  "alg": "PS256",
  "typ": "JWT",
  "kid": "12456"
}
{
  "iss": "register.cdr.gov.au",
  "sub": "register.cdr.gov.au",
  "exp": 1516239322,
  "aud": "https://www.infosec.cdr.gov.au/token",
  "jti": "37747cd1-c105-4569-9f75-4adf28b73e31"
}
</code></pre>
<ol>
<li>The CDR Register will expose an endpoint to distribute it&#39;s public keys<br></li>
<li> The JWT must contain the following Claim Values :</li>
</ol>

<ul>
<li>  <code>iss</code>: The issuer claim which contains a unique identifier for the entity that issued the JWT</li>
<li>  <code>sub</code>: The principal that is the subject of the JWT for client authentication</li>
<li>  <code>aud</code>: The URL of the end point being invoked</li>
<li>  <code>exp</code>: The expiration claim that limits the time window during which the assertion can be used</li>
<li>  <code>jti</code>: The JWT ID claim that provides a unique identifier for the token</li>
</ul>

<p>When invoking a protected end point, the assertion MUST be sent with the <code>POST</code> method and MUST include the following parameters:</p>

<ul>
<li>  <code>client_id</code>: This MUST be set to the ID of the calling client</li>
<li>  <code>client_assertion_type</code>: This MUST be set to: <code>urn:ietf:params:oauth:client-assertion-type:jwt-bearer</code></li>
<li>  <code>client_assertion</code>: This MUST be set to the digitally signed JWT</li>
</ul>
<h3 id='identifiers'>Identifiers</h3>
<p><code>client_id</code>, <code>iss</code> and <code>sub</code> are expected to contain the unique identifier for the client.<br>
The following client identifiers will be used:</p>

<table><thead>
<tr>
<th>Client</th>
<th>Scenario</th>
<th>Identifier</th>
</tr>
</thead><tbody>
<tr>
<td><strong>CDR Register</strong></td>
<td>Calls to Participant Admin APIs</td>
<td><strong>TDB</strong></td>
</tr>
<tr>
<td><strong>Data Holder</strong></td>
<td>Calls to CDR Register Discovery API</td>
<td>Data Holder ID</td>
</tr>
<tr>
<td><strong>Data Recipient</strong></td>
<td>Calls to CDR Register Discovery API</td>
<td>Data Recipient Product ID</td>
</tr>
</tbody></table>
<h2 id='transaction-security'>Transaction Security</h2>
<p>Please refer to the <a href="https://consumerdatastandardsaustralia.github.io/standards/#transaction-security">Consumer Data Standards Transaction Security</a> for Transaction Security details</p>
<h2 id='endpoints'>Endpoints</h2>
<p>Participants will be required to register base URIs to group the implementation of the Consumer Data Standards</p>

<table><thead>
<tr>
<th>Base URI</th>
<th>DH</th>
<th>ADR</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>PublicBaseUri</strong></td>
<td><i class="icon-check"></i></td>
<td></td>
<td>Base URI for the Consumer Data Standard public endpoints. This should encompass all endpoints not requiring authentication</td>
</tr>
<tr>
<td><strong>ResourceBaseUri</strong></td>
<td><i class="icon-check"></i></td>
<td></td>
<td>Base URI for the Consumer Data Standard resource endpoints. This should encompass all CDS resource endpoints requiring authentication</td>
</tr>
<tr>
<td><strong>InfoSecBaseUri</strong></td>
<td><i class="icon-check"></i></td>
<td><i class="icon-check"></i></td>
<td>Base URI for the Consumer Data Standard InfoSec endpoints. This should encompass all authentication and authorisation related endpoints <br> This BaseURI must sit on a different domain to the ResourceBaseUri</td>
</tr>
<tr>
<td><strong>AdminBaseUri</strong></td>
<td><i class="icon-check"></i></td>
<td><i class="icon-check"></i></td>
<td>Base URI for the Consumer Data Standard admin endpoints called by the CDR Register</td>
</tr>
<tr>
<td><strong>ExtensionBaseUri</strong></td>
<td><i class="icon-check"></i></td>
<td></td>
<td>Base URI for the Data Holder extension endpoints to the Consumer Data Standard (optional)</td>
</tr>
</tbody></table>
<h2 id='certificate-management'>Certificate Management</h2><h3 id='issued-by-accc-ca-for-data-holders'>Issued by ACCC CA for Data Holders</h3>
<table><thead>
<tr>
<th>Certificate</th>
<th>Function</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Client Certificate</strong></td>
<td>Secures the following:</br>- Notifying ADRs of consent withdrawal</td>
<td></td>
</tr>
<tr>
<td><strong>Server Certificate(s)</strong></td>
<td>Certificate is issued to a FQDN</br></br>Secures the following:</br>- Resource endpoint</br>- InfoSec endpoints</br>- Admin endpoints</td>
<td>It will be up to the DH on how these endpoints are</br>segregated. They may all be on the one domain</br>(so only one certificate required) or could be separated</td>
</tr>
</tbody></table>
<h3 id='issued-by-accc-ca-for-accredited-data-recipients'>Issued by ACCC CA for Accredited Data Recipients</h3>
<table><thead>
<tr>
<th>Certificate</th>
<th>Function</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td><strong>Client Certificate</strong></td>
<td>Secures the following:</br>- Consuming Register APIs</br>- Notifying ADRs of consent withdrawal</td>
<td></td>
</tr>
<tr>
<td><strong>Server Certificate(s)</strong></td>
<td>Certificate is issued to a FQDN</br></br>Secures the following:</br>- InfoSec endpoints</br>- Admin endpoints</td>
<td>It will be up to the ADR on how these endpoints are</br>segregated. They may all be on the one domain</br>(so only one certificate required) or could be separated</td>
</tr>
</tbody></table>
<h3 id='cdr-certificate-authority'>CDR Certificate Authority</h3>
<p>DigiCert will act as the certificate authority that issues and manages certificates to CDR participants as directed by the ACCC in its capacity as the CDR Registrar.</p>
<h1 id='availability'>Availability</h1>
<p>The following scenarios outline the expectations of Data Holders and Accredited Data Recipients within the Consumer Data Right ecosystem when outages occur. </p>
<h2 id='cdr-register-unavailable'>CDR Register Unavailable</h2>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Result</strong></td>
<td>Participants will not be able to communicate with the Register</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>Participants will not be able to refresh their metadata caches with up-to-date participant security data</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>Participants will not be able to refresh their metadata caches with new participants</td>
</tr>
<tr>
<td><strong>Proposal</strong></td>
<td>Participants will continue to operate until their metadata caches reach a maximum age. <br>Once this time has been reached, consumer data will not be shared. <br>Once the CDR Register becomes available, all participants will receive a refresh cache notification</td>
</tr>
</tbody></table>
<h2 id='certificate-authority-unavailable'>Certificate Authority Unavailable</h2>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Result</strong></td>
<td>OCSP services will not be available</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>Participants will not be able verify the status of certificates</td>
</tr>
<tr>
<td><strong>Proposal</strong></td>
<td>Participants will honour cached Certificate statuses from previous OCSP checks. <br>Once certificate statuses have expired, data sharing will stop. <br>Once the CA becomes available, certificate statuses are updated through OCSP</td>
</tr>
</tbody></table>
<h2 id='accredited-data-recipient-unavailable'>Accredited Data Recipient Unavailable</h2>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Result</strong></td>
<td>Data Holders will not be able to communicate with ADRs</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>Data Holders will not be able to inform ADRs that consent has been withdrawn</td>
</tr>
<tr>
<td><strong>Proposal</strong></td>
<td>Data Holders will need to continually poll the ADR until recovery.<br>Upon recovery, the consent withdrawal process will need to be executed</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Result</strong></td>
<td>The CDR Register will not be able to communicate with ADRs</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>The CDR Register will not be able to inform the ADRs that they will need to refresh their metadata cache</td>
</tr>
<tr>
<td><strong>Proposal</strong></td>
<td>Accredited Data Recipients will be expected to refresh their metadata cache upon recovery from any outage</td>
</tr>
</tbody></table>
<h2 id='data-holder-unavailable'>Data Holder Unavailable</h2>
<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Result</strong></td>
<td>Accredited Data Recipients will not be able to communicate with Data Holders</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>Accredited Data Recipients will not be able to inform the Data Holder of change in consent</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>Accredited Data Recipients will not be able to retrieve Product &amp; Consumer data</td>
</tr>
<tr>
<td><strong>Proposal</strong></td>
<td>Accredited Data Recipients will need to continually poll the DH until recovery. <br>Upon recovery, the consent withdrawal process will need to be executed</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th></th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Result</strong></td>
<td>The CDR Register will not be able to communicate with the Data Holder</td>
</tr>
<tr>
<td><strong>Impact</strong></td>
<td>The CDR Register will not be able to inform the Data Holder they will need to refresh their metadata cache</td>
</tr>
<tr>
<td><strong>Proposal</strong></td>
<td>Data Holders will be expected to refresh their metadata cache upon recovery from any outage</td>
</tr>
</tbody></table>
<h2 id='availability-questions'>Availability Questions</h2>
<p>What current caching ages do you mandate for your security data?</p>

<p><em>Feedback for this section can be lodged at:</em> <a href="https://github.com/cdr-register/register/issues/6">https://github.com/cdr-register/register/issues/6</a></p>
<h1 id='versioning'>Versioning</h1>
<p>ACCC will follow the versioning conventions outlined by the Data Standards Body. <br>
Refer <a href="https://consumerdatastandardsaustralia.github.io/standards/#versioning">https://consumerdatastandardsaustralia.github.io/standards/#versioning</a></p>

<p>It is expected that management of standards for the Register will be incorporated into the remit of the Data Standards Body once mature. The initial version of the Register APIs will align with versions published for the Consumer Data Standards.</p>

<p>A deprecation strategy will be developed in consultation with the Data Standards Body and industry.</p>

<p>The following table illustrates concurrent versioning requirements to ensure backward compatibility. Q indicates a nominal three-month period.  When changes are made they are notified at the commencement of a quarter. </p>

<table><thead>
<tr>
<th></th>
<th><strong>Q1</strong></th>
<th><strong>Q2</strong></th>
<th><strong>Q3</strong></th>
<th><strong>Q4</strong></th>
<th><strong>Q5</strong></th>
<th><strong>Q6</strong></th>
</tr>
</thead><tbody>
<tr>
<td><strong>Get Data Holders</strong></td>
<td>V1.0.0</td>
<td>V1.0.0 <br> V1.1.0</td>
<td>V1.0.0 <br> V1.1.0</td>
<td>V1.1.0 <br> V1.2.0</td>
<td>V1.1.0 <br> V1.2.0</td>
<td>V1.2.0</td>
</tr>
<tr>
<td><strong>Get Data Recipients</strong></td>
<td>V1.0.0</td>
<td>V1.0.0</td>
<td>V1.0.0 <br> V1.1.0</td>
<td>V1.0.0 <br> V1.1.0</td>
<td>V1.1.0 <br> V1.2.0</td>
<td>V1.1.0 <br> V1.2.0</td>
</tr>
</tbody></table>
<h1 id='change-log'>Change Log</h1>
<p>The following table lists the changes made in reverse date order (most recent change is at the top).</p>

<table><thead>
<tr>
<th>Change Date</th>
<th>Version</th>
<th>Description</th>
<th>Detail Of change</th>
</tr>
</thead><tbody>
<tr>
<td>15/09/2019</td>
<td>0.5.0</td>
<td>Updated Client Registration</td>
<td>Updated Client Registration section to detail Dynamic Registration, to reflect updates from <a href="https://github.com/cdr-register/register/issues/23">GitHub Issue 23</a></td>
</tr>
<tr>
<td>15/09/2019</td>
<td>0.5.0</td>
<td>Updated Security Profile</td>
<td>Updated Certificate Management section to reflect updates from <a href="https://github.com/cdr-register/register/issues/22">GitHub Issue 22</a></td>
</tr>
<tr>
<td>14/08/2019</td>
<td>0.4.0</td>
<td>Updated Swagger Definition</td>
<td>Updated JWK schema to conform to <a href="https://tools.ietf.org/html/rfc7517">RFC 7517</a><br>Added redirectUri to whitelist per product</td>
</tr>
<tr>
<td>06/08/2019</td>
<td>0.3.0</td>
<td>Addition of Security Profile</td>
<td>This section outlines all the security requirements for interacting with the CDR Register</td>
</tr>
<tr>
<td>31/07/2019</td>
<td>0.3.0</td>
<td>Updated Swagger definition</td>
<td>Removed TermsOfServiceUri, PolicyUri &amp; SupportUri</td>
</tr>
<tr>
<td>29/07/2019</td>
<td>0.2.0</td>
<td>Update to Participant Statuses</td>
<td>Simplified the validity of Data Recipient Checks to only use Certificate Status and Software Product Status</td>
</tr>
<tr>
<td>29/07/2019</td>
<td>0.2.0</td>
<td>Addition of Endpoints</td>
<td>Grouped Endpoints and Certificate Management, outlining participant requirements to group and secure endpoints</td>
</tr>
<tr>
<td>29/07/2019</td>
<td>0.2.0</td>
<td>Updated Swagger definition</td>
<td>Updates include updates to endpoint sets and removing of suspension dates</td>
</tr>
<tr>
<td>23/07/2019</td>
<td>0.1.0</td>
<td>Addition of Versioning</td>
<td>Outline of Versioning strategy noting that industry collaboration is required for deprecation strategy</td>
</tr>
<tr>
<td>23/07/2019</td>
<td>0.1.0</td>
<td>Addition of Participant Statuses</td>
<td>Outline of Participant Statuses and expectations on participants within the ecosystem</td>
</tr>
<tr>
<td>23/07/2019</td>
<td>0.1.0</td>
<td>Update to Consumer Data Right Register Section</td>
<td>Updated component diagram to reflect software product relationship for Data Recipients</td>
</tr>
<tr>
<td>09/07/2019</td>
<td>0.1.0</td>
<td>Update to Consumer Data Right Register Section</td>
<td>Updated component diagram to reflect Identity Provider requirements for Data Recipients</td>
</tr>
<tr>
<td>08/07/2019</td>
<td>0.1.0</td>
<td>Update to Consumer Data Right Register Section</td>
<td>Provided ecosystem component diagram with responsibilities of each participant</td>
</tr>
<tr>
<td>08/07/2019</td>
<td>0.1.0</td>
<td>Addition of Certificate Management Section</td>
<td>Outline of Participant Certificate Issuance and Management expectations</td>
</tr>
<tr>
<td>03/07/2019</td>
<td>0.1.0</td>
<td>Addition of Availability Section</td>
<td>Outline of Participant Availability expectations</td>
</tr>
<tr>
<td>30/06/2019</td>
<td>0.1.0</td>
<td>Addition of Client Registration Section</td>
<td>Outline of Client Registration Process</td>
</tr>
<tr>
<td>18/12/2018</td>
<td>0.1.0</td>
<td>Addition of change log</td>
<td>This change log was added to the standards documentation</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
